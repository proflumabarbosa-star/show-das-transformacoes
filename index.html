<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show dos Transformações Físicas e Químicas</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #e3f2fd;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .tela {
            display: none;
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            padding: 30px;
            text-align: center;
        }

        .ativa {
            display: block;
        }

        /* --- CAPA INICIAL --- */
        #tela-inicial {
            background-color: #fff8e1;
        }

        #tela-inicial img {
            width: 180px;
            margin-bottom: 20px;
        }

        #tela-inicial h1 {
            font-size: 1.8em;
            color: #1a237e;
            margin-bottom: 10px;
        }

        #tela-inicial button {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: 15px 25px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 20px;
        }

        #tela-inicial button:hover {
            background-color: #388e3c;
        }

        #tela-inicial p {
            color: #424242;
            font-size: 1em;
            margin-top: 20px;
        }

        /* --- JOGO --- */
        #tela-jogo {
            background-color: #e8f5e9;
        }

        h2 {
            color: #1a237e;
            text-align: center;
            margin-bottom: 15px;
        }

        #placar {
            background-color: #00796b;
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        #pergunta-area {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            border-left: 8px solid #4caf50;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        #pergunta-texto {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .opcoes button {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            background-color: #b2dfdb;
            color: #004d40;
            font-size: 1.05em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }

        .opcoes button:hover {
            background-color: #80cbc4;
            transform: scale(1.02);
        }

        .opcoes button.correct {
            background-color: #4caf50;
            color: white;
        }

        .opcoes button.incorrect {
            background-color: #f44336;
            color: white;
        }

        .botoes-ajuda {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .botoes-ajuda button {
            flex-grow: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        #btn-pular { background-color: #0288d1; }
        #btn-consultar { background-color: #00796b; }
        #btn-desistir { background-color: #c62828; }

        #btn-god-mode {
            margin-top: 10px;
            background-color: #546e7a;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px;
            font-size: 0.9em;
            cursor: pointer;
        }

        #btn-proxima {
            display: none;
            background-color: #1a237e;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 1.1em;
            margin-top: 15px;
            width: 100%;
            cursor: pointer;
        }

        #feedback-area {
            font-weight: bold;
            margin-top: 15px;
            min-height: 25px;
        }

        /* --- FINAL --- */
        #tela-final img {
            width: 180px;
            margin-bottom: 20px;
        }

        #tela-final h2 {
            color: #1a237e;
        }

        #tela-final button {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 15px;
        }

        #tela-final button:hover {
            background-color: #388e3c;
        }
    </style>
</head>
<body>

    <!-- CAPA -->
    <div id="tela-inicial" class="tela ativa">
        <img src="capa.png" alt="Tia Luma">
        <h1>Show dos Transformações<br>Físicas e Químicas</h1>
        <button onclick="iniciarJogo()">Iniciar o Show das Transformações!</button>
        <p>A ciência é cheia de descobertas —<br>e cada erro é um passo para acertar!</p>
    </div>

    <!-- JOGO -->
    <div id="tela-jogo" class="tela">
        <h2>Show das Transformações Físicas e Químicas</h2>
        <div id="placar">Questão: <span id="num-questao">1</span> de <span id="total-questoes">3</span> | Acertos: <span id="acertos">0</span></div>

        <div id="pergunta-area">
            <div id="pergunta-texto">Aguardando início...</div>
            <div class="opcoes" id="opcoes-area"></div>
        </div>

        <div class="botoes-ajuda">
            <button id="btn-pular" onclick="usarPular()">Pular (1)</button>
            <button id="btn-consultar" onclick="usarConsultarCaderno()">Consultar Caderno (1)</button>
            <button id="btn-desistir" onclick="usarDesistir()">Desistir</button>
        </div>

        <button id="btn-god-mode" onclick="godMode()">GOD_MODE (Ver Resposta)</button>
        <div id="feedback-area"></div>
        <button id="btn-proxima" onclick="proximaQuestao()">Próxima Questão »</button>
    </div>

    <!-- FINAL -->
    <div id="tela-final" class="tela">
        <img src="capa.png" alt="Tia Luma parabenizando">
        <h2>Parabéns, cientista!</h2>
        <p id="mensagem-final"></p>
        <button onclick="voltarInicio()">Jogar Novamente</button>
    </div>

<script>
    // === Lógica original (mantida) ===
    const questoes = [
        { pergunta: "Qual das seguintes transformações é um exemplo de transformação física?", opcoes: ["A queima de um palito de fósforo", "O apodrecimento de uma fruta", "O congelamento da água", "A digestão de alimentos"], resposta: "O congelamento da água" },
        { pergunta: "Uma transformação química é aquela em que há:", opcoes: ["Apenas mudança de estado físico", "Alteração na composição da substância (formação de novas substâncias)", "Mudança de forma, mas não de composição", "Dissolução de um sal em água"], resposta: "Alteração na composição da substância (formação de novas substâncias)" },
        { pergunta: "Qual das seguintes situações representa uma **transformação irreversível** causada por uma transformação química?", opcoes: ["Derretimento da manteiga", "Evaporação da água do mar", "Queima de papel", "Solidificação do chocolate"], resposta: "Queima de papel" },
        { pergunta: "Ao colocar uma colher de açúcar no chá quente e ele desaparecer, o que aconteceu?", opcoes: ["O açúcar virou outra substância", "O açúcar se transformou em gás", "O açúcar se misturou com o chá, sem deixar de ser açúcar", "O açúcar queimou e sumiu"], resposta: "O açúcar se misturou com o chá, sem deixar de ser açúcar" },
        { pergunta: "Quando a água ferve, ela passa para o estado gasoso. Esse é um exemplo de:", opcoes: ["Transformação química", "Transformação nuclear", "Transformação física", "Criação de nova substância"], resposta: "Transformação física" },
        { pergunta: "Por que a ferrugem que aparece no ferro é considerada uma transformação química?", opcoes: ["Porque muda só o estado do ferro", "Porque forma uma nova substância (óxido de ferro)", "Porque o ferro fica mais leve", "Porque muda a forma do ferro"], resposta: "Porque forma uma nova substância (óxido de ferro)" },
        { pergunta: "Qual das opções mostra uma transformação física acontecendo?", opcoes: ["A maçã apodrecendo na fruteira", "O gelo derretendo no copo", "O pão sendo assado no forno", "A madeira sendo queimada"], resposta: "O gelo derretendo no copo" },
        { pergunta: "Ao pintar uma parede, qual transformação acontece com a tinta ao secar?", opcoes: ["Transformação química, pois forma outra substância", "Transformação física, pois só a água da tinta evapora", "Transformação nuclear, por causa da cor", "Transformação química, pois muda de cor"], resposta: "Transformação física, pois só a água da tinta evapora" },
        { pergunta: "Qual situação abaixo **não** representa a formação de uma nova substância?", opcoes: ["Assar um bolo", "Fermentação de uma massa", "Derretimento de um sorvete", "Queima de papel"], resposta: "Derretimento de um sorvete" },
        { pergunta: "Por que amassar uma latinha não é uma transformação química?", opcoes: ["Porque muda a composição da latinha", "Porque forma outra substância", "Porque apenas muda a forma, mas continua sendo latinha", "Porque ela derrete ao ser amassada"], resposta: "Porque apenas muda a forma, mas continua sendo latinha" }
    ];

    let questoesAtuais = [], indiceAtual = 0, acertos = 0, pulosRestantes = 1, consultasRestantes = 1;
    const telas = document.querySelectorAll('.tela');
    const perguntaTexto = document.getElementById('pergunta-texto');
    const opcoesArea = document.getElementById('opcoes-area');
    const feedbackArea = document.getElementById('feedback-area');
    const placarAcertos = document.getElementById('acertos');
    const placarNumQuestao = document.getElementById('num-questao');
    const placarTotalQuestoes = document.getElementById('total-questoes');
    const btnProxima = document.getElementById('btn-proxima');
    const btnPular = document.getElementById('btn-pular');
    const btnConsultar = document.getElementById('btn-consultar');

    function trocarTela(id) {
        telas.forEach(t => t.classList.remove('ativa'));
        document.getElementById(id).classList.add('ativa');
    }

    function embaralhar(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function iniciarJogo() {
        questoesAtuais = embaralhar([...questoes]);
        indiceAtual = 0;
        acertos = 0;
        pulosRestantes = 1;
        consultasRestantes = 1;
        placarTotalQuestoes.textContent = questoesAtuais.length;
        placarAcertos.textContent = acertos;
        btnPular.disabled = false;
        btnConsultar.disabled = false;
        trocarTela('tela-jogo');
        carregarQuestao();
    }

    function carregarQuestao() {
        if (indiceAtual >= questoesAtuais.length) return finalizarJogo();
        const q = questoesAtuais[indiceAtual];
        placarNumQuestao.textContent = indiceAtual + 1;
        perguntaTexto.innerHTML = q.pergunta;
        opcoesArea.innerHTML = '';
        feedbackArea.textContent = '';
        btnProxima.style.display = 'none';
        const opcoesEmbaralhadas = embaralhar([...q.opcoes]);
        opcoesEmbaralhadas.forEach(opcao => {
            const btn = document.createElement('button');
            btn.textContent = opcao;
            btn.onclick = () => verificarResposta(btn, opcao, q.resposta);
            opcoesArea.appendChild(btn);
        });
    }

    function verificarResposta(btn, opcao, resposta) {
        document.querySelectorAll('.opcoes button').forEach(b => b.disabled = true);
        if (opcao === resposta) {
            btn.classList.add('correct');
            acertos++;
            placarAcertos.textContent = acertos;
            feedbackArea.innerHTML = '<span style="color:green;">ACERTOU! TRANSFORMAÇÃO DETECTADA!</span>';
        } else {
            btn.classList.add('incorrect');
            document.querySelectorAll('.opcoes button').forEach(b => {
                if (b.textContent === resposta) b.classList.add('correct');
            });
            feedbackArea.innerHTML = `<span style="color:red;">ERROU! A resposta correta era: ${resposta}</span>`;
        }
        btnProxima.style.display = 'block';
    }

    function proximaQuestao() { indiceAtual++; carregarQuestao(); }

    function usarPular() {
        if (pulosRestantes > 0 && confirm("Deseja pular esta questão?")) {
            pulosRestantes--; indiceAtual++; carregarQuestao();
            if (pulosRestantes === 0) btnPular.disabled = true;
        }
    }

    function usarConsultarCaderno() {
        if (consultasRestantes > 0 && confirm("Deseja consultar o caderno?")) {
            consultasRestantes--;
            const q = questoesAtuais[indiceAtual];
            feedbackArea.innerHTML = `<span style="color:blue;">CONSULTA: A resposta é ${q.resposta}</span>`;
            document.querySelectorAll('.opcoes button').forEach(b => {
                b.disabled = true;
                if (b.textContent === q.resposta) b.classList.add('correct');
            });
            btnProxima.style.display = 'block';
            if (consultasRestantes === 0) btnConsultar.disabled = true;
        }
    }

    function usarDesistir() {
        if (confirm("Deseja desistir do jogo?")) finalizarJogo(true);
    }

    function godMode() {
        const q = questoesAtuais[indiceAtual];
        alert(`GOD_MODE: ${q.resposta}`);
    }

    function finalizarJogo(desistiu = false) {
        const total = questoesAtuais.length;
        const aproveitamento = ((acertos / total) * 100).toFixed(2);
        const mensagem = desistiu
            ? `Você desistiu com ${acertos} acertos.`
            : `Você acertou ${acertos} de ${total} questões.<br>Aproveitamento: ${aproveitamento}%`;
        document.getElementById('mensagem-final').innerHTML = mensagem;
        trocarTela('tela-final');
    }

    function voltarInicio() { trocarTela('tela-inicial'); }
</script>

</body>
</html>
